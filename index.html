<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neko Quest: The Grand Challenge</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap" rel="stylesheet">
    <style>
        :root {
            --neon-pink: #ff00ff;
            --neon-blue: #00ffff;
            --bg-dark: #0a0118;
            --panel-bg: rgba(15, 2, 38, 0.9);
            --error-red: #ff3e3e;
            --success-green: #00ff88;
            --gold: #ffd700;
        }

        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            overflow: hidden;
            background-color: var(--bg-dark);
            font-family: 'Fredoka One', cursive, sans-serif;
            color: white;
        }

        #bg-canvas, #fx-canvas { position: fixed; top: 0; left: 0; z-index: -1; pointer-events: none; }
        #fx-canvas { z-index: 500; }

        #game-header {
            width: 100%; height: 70px;
            background: var(--panel-bg);
            backdrop-filter: blur(10px);
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 25px; box-sizing: border-box;
            position: fixed; top: 0; z-index: 100;
            border-bottom: 2px solid var(--neon-blue);
        }

        .stats-group { display: flex; align-items: center; gap: 20px; }
        .stat-item { display: flex; align-items: center; gap: 8px; font-size: 1.1rem; }
        
        #timer-display {
            font-size: 1.8rem;
            min-width: 80px;
            text-align: center;
            color: var(--success-green);
            text-shadow: 0 0 10px rgba(0, 255, 136, 0.5);
            font-variant-numeric: tabular-nums;
        }
        
        #timer-display.warning {
            color: var(--error-red);
            text-shadow: 0 0 15px var(--error-red);
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        #intro-overlay, #level-up-overlay {
            position: fixed; inset: 0; background: radial-gradient(circle, #1a0b2e, #0a0118); 
            z-index: 2000; display: flex; flex-direction: column; align-items: center; 
            justify-content: center; text-align: center; padding: 20px;
        }

        .input-field {
            background: rgba(255,255,255,0.1);
            border: 2px solid var(--neon-blue);
            border-radius: 15px; padding: 12px 20px;
            color: white; font-family: 'Fredoka One', cursive;
            font-size: 1rem; width: 300px; margin-bottom: 20px; outline: none;
        }

        .hero-ready-btn {
            background: var(--neon-blue); color: var(--bg-dark);
            border: none; padding: 15px 40px; font-family: 'Fredoka One', cursive;
            font-size: 1.5rem; border-radius: 50px; cursor: pointer;
            box-shadow: 0 0 20px var(--neon-blue); transition: all 0.3s;
            text-transform: uppercase; letter-spacing: 2px;
        }
        .hero-ready-btn:hover { transform: scale(1.05); filter: brightness(1.2); }

        .skip-btn {
            background: rgba(255,255,255,0.1); color: white;
            border: 1px solid white; padding: 10px 25px; border-radius: 50px;
            font-family: 'Fredoka One', cursive; cursor: pointer; margin-top: 20px;
            transition: all 0.2s;
        }

        #game-stage {
            height: 100vh; width: 100%;
            display: none; flex-direction: column;
            align-items: center; justify-content: center;
            padding: 80px 20px; box-sizing: border-box;
        }

        .sentence-box { font-size: 1.8rem; line-height: 1.5; max-width: 900px; text-align: center; margin-bottom: 40px; }
        .highlight-word { color: var(--neon-blue); font-weight: 900; background: rgba(0,255,255,0.1); border-bottom: 3px solid var(--neon-blue); padding: 2px 10px; }

        #word-slots { display: flex; gap: 8px; margin-bottom: 30px; justify-content: center; flex-wrap: wrap; }
        .slot {
            width: 50px; height: 65px; background: rgba(255, 255, 255, 0.05);
            border: 2px dashed rgba(255,255,255,0.3); border-radius: 10px;
            display: flex; align-items: center; justify-content: center;
            font-size: 1.8rem; font-weight: 900; cursor: pointer;
        }
        .slot.filled { border-style: solid; border-color: var(--neon-blue); background: rgba(0,255,255,0.15); box-shadow: 0 0 10px var(--neon-blue); }
        
        #letter-pool { display: flex; flex-wrap: wrap; justify-content: center; gap: 12px; max-width: 800px; }
        .letter-tile {
            width: 60px; height: 60px; background: linear-gradient(135deg, var(--neon-pink), #b000b0);
            border-radius: 15px; display: flex; align-items: center; justify-content: center;
            font-size: 2rem; font-weight: 900; cursor: pointer; 
            box-shadow: 0 4px 0 #600060; transition: transform 0.1s;
        }
        .letter-tile:active { transform: translateY(4px); box-shadow: 0 0 0 #600060; }
        .letter-tile.used { opacity: 0; pointer-events: none; transform: scale(0.5); }

        #overlay {
            position: fixed; inset: 0; background: rgba(0,0,0,0.95);
            display: none; flex-direction: column; align-items: center; justify-content: center; z-index: 1000;
        }

        .shake { animation: shake 0.2s ease-in-out 3; border-color: var(--error-red) !important; color: var(--error-red); }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-10px); } 75% { transform: translateX(10px); } }
    </style>
</head>
<body>

<div id="intro-overlay">
    <div style="font-size:4rem; margin-bottom:10px; color:var(--neon-pink); text-shadow: 0 0 20px var(--neon-pink);">NEKO QUEST</div>
    <div style="font-size:1.8rem; color:var(--neon-blue); margin-bottom:40px;">Muddled Words Challenge</div>
    <button class="hero-ready-btn" onclick="startQuest()">BEGIN MISSION</button>
</div>

<div id="level-up-overlay" style="display:none;">
    <h1 style="font-size:3.5rem; color:var(--neon-blue);">LEVEL COMPLETE!</h1>
    <p id="level-up-subtext" style="font-size:1.5rem;"></p>
    <button class="hero-ready-btn" onclick="hideLevelUp()">NEXT LEVEL</button>
</div>

<canvas id="bg-canvas"></canvas>
<canvas id="fx-canvas"></canvas>

<div id="game-header">
    <div class="stats-group">
        <div id="level-tag" style="color: var(--neon-blue); font-size: 1.5rem; font-weight: bold;">LEVEL 1</div>
        <div id="timer-display">60s</div>
    </div>
    <div class="stats-group">
        <div class="stat-item">ðŸ’° <span id="coins">0</span></div>
        <div class="stat-item">âœ… <span id="done-count">0</span>/75</div>
    </div>
</div>

<div id="game-stage">
    <div class="sentence-box" id="sentence-container"></div>
    <div id="word-slots"></div>
    <div id="letter-pool"></div>
    <button class="skip-btn" id="skip-button" onclick="skipWord()">SKIP THIS WORD</button>
</div>

<div id="overlay">
    <div id="overlay-msg" style="text-align:center;"></div>
    <button class="hero-ready-btn" id="overlay-continue-btn" style="margin-top:30px;" onclick="nextQuestion()">CONTINUE</button>
</div>

<script>
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    function playSound(type) {
        if (audioCtx.state === 'suspended') audioCtx.resume();
        const osc = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.connect(gain);
        gain.connect(audioCtx.destination);
        const now = audioCtx.currentTime;
        if (type === 'click') {
            osc.type = 'sine'; osc.frequency.setValueAtTime(400, now); osc.frequency.exponentialRampToValueAtTime(100, now + 0.1);
            gain.gain.setValueAtTime(0.1, now); gain.gain.exponentialRampToValueAtTime(0.01, now + 0.1);
            osc.start(); osc.stop(now + 0.1);
        } else if (type === 'correct') {
            osc.type = 'triangle'; osc.frequency.setValueAtTime(523.25, now); osc.frequency.setValueAtTime(659.25, now + 0.1); osc.frequency.setValueAtTime(783.99, now + 0.2);
            gain.gain.setValueAtTime(0.1, now); gain.gain.linearRampToValueAtTime(0, now + 0.4);
            osc.start(); osc.stop(now + 0.4);
        } else if (type === 'wrong') {
            osc.type = 'sawtooth'; osc.frequency.setValueAtTime(150, now); osc.frequency.linearRampToValueAtTime(50, now + 0.3);
            gain.gain.setValueAtTime(0.1, now); gain.gain.linearRampToValueAtTime(0, now + 0.3);
            osc.start(); osc.stop(now + 0.3);
        } else if (type === 'levelup') {
            osc.type = 'square'; osc.frequency.setValueAtTime(400, now); osc.frequency.exponentialRampToValueAtTime(800, now + 0.5);
            gain.gain.setValueAtTime(0.05, now); gain.gain.linearRampToValueAtTime(0, now + 0.5);
            osc.start(); osc.stop(now + 0.5);
        }
    }

    const fxCanvas = document.getElementById('fx-canvas');
    const fctx = fxCanvas.getContext('2d');
    let particles = [];
    function resizeFx() { fxCanvas.width = window.innerWidth; fxCanvas.height = window.innerHeight; }
    window.addEventListener('resize', resizeFx); resizeFx();
    class Particle {
        constructor() {
            this.x = window.innerWidth / 2; this.y = window.innerHeight / 2; this.size = Math.random() * 8 + 4;
            this.speedX = (Math.random() - 0.5) * 15; this.speedY = (Math.random() - 0.5) * 15 - 5;
            this.color = `hsl(${Math.random() * 360}, 100%, 50%)`; this.gravity = 0.2; this.life = 1; this.decay = Math.random() * 0.02 + 0.01;
        }
        update() { this.speedY += this.gravity; this.x += this.speedX; this.y += this.speedY; this.life -= this.decay; }
        draw() { fctx.fillStyle = this.color; fctx.globalAlpha = this.life; fctx.fillRect(this.x, this.y, this.size, this.size); }
    }
    function createConfetti() { for (let i = 0; i < 100; i++) particles.push(new Particle()); }
    function animateFx() {
        fctx.clearRect(0, 0, fxCanvas.width, fxCanvas.height);
        for (let i = particles.length - 1; i >= 0; i--) { particles[i].update(); particles[i].draw(); if (particles[i].life <= 0) particles.splice(i, 1); }
        requestAnimationFrame(animateFx);
    }
    animateFx();

// STRICTLY 75 QUESTIONS FROM PDF
const ALL_QUESTIONS = [
    { scrambled: "HCOLOS", target: "SCHOOL", sentence: "The _____ bus was late." },
    { scrambled: "BEZAR", target: "ZEBRA", sentence: "A _____ is an animal with stripes." },
    { scrambled: "KOBO", target: "BOOK", sentence: "I have lost my _____." },
    { scrambled: "NEPICL", target: "PENCIL", sentence: "Where is my _____?" },
    { scrambled: "YRATP", target: "PARTY", sentence: "What time is the _____?" },
    { scrambled: "RETES", target: "TREES", sentence: "I have big _____ in my garden." },
    { scrambled: "TCNHEIK", target: "KITCHEN", sentence: "She put her apron on and went to the _____." },
    { scrambled: "ITOANTS", target: "STATION", sentence: "We had to be at the _____ by six." },
    { scrambled: "MENTIU", target: "MINUTE", sentence: "He scored the final goal in the last _____ of the game." },
    { scrambled: "ZIAMANEG", target: "MAGAZINE", sentence: "Dad read the _____ before going to bed." },
    { scrambled: "NOBLALO", target: "BALLOON", sentence: "The _____ floated into the sky." },
    { scrambled: "DOGBELB", target: "GOBBLED", sentence: "He _____ the pudding greedily." },
    { scrambled: "PLAYHIP", target: "HAPPILY", sentence: "The fairy tale ended with them all living _____ ever after." },
    { scrambled: "SEALPIC", target: "SPECIAL", sentence: "Each week there is a _____ offer at super market." },
    { scrambled: "CGTNHIILO", target: "CLOTHING", sentence: "Astronauts wear specials _____ when travelling in space." },
    { scrambled: "SUNYRER", target: "NURSERY", sentence: "Little children enjoy going to _____ each day." },
    { scrambled: "ABATEKFRS", target: "BREAKFAST", sentence: "What is your favourite _____ cereal?" },
    { scrambled: "NEEVOPSLE", target: "ENVELOPES", sentence: "We put letters in _____." },
    { scrambled: "TAUTSERARNS", target: "RESTAURANTS", sentence: "There are many Chinese _____ in my neighbourhood." },
    { scrambled: "PSINGKIP", target: "SKIPPING", sentence: "_____ can keep you fit." },
    { scrambled: "LBWNOGI", target: "BOWLING", sentence: "They all went to the _____ except Aadil." },
    { scrambled: "ROEYNVEE", target: "EVERYONE", sentence: "_____ except Charlie went in taxi." },
    { scrambled: "SIVETIESN", target: "SENSITIVE", sentence: "The burn on my hand was _____ to touch." },
    { scrambled: "OHIYDSAL", target: "HOLIDAYS", sentence: "The children were looking forward to the _____." },
    { scrambled: "SWANSDHCIE", target: "SANDWICHES", sentence: "_____ are mostly available in all the stores." },
    { scrambled: "TIKEHNC", target: "KITCHEN", sentence: "A lovely smell was wafting out of the _____." },
    { scrambled: "NGEIENV", target: "EVENING", sentence: "My mum likes a cup of coffee in the _____." },
    { scrambled: "UATIFEULB", target: "BEAUTIFUL", sentence: "It was _____ bunch of flowers." },
    { scrambled: "ADGENBA", target: "BANDAGE", sentence: "There was a _____ on his bad leg." },
    { scrambled: "KAEPNASC", target: "PANCAKES", sentence: "On Shrove Tuesday, they ate _____." },
    { scrambled: "NIECAM", target: "CINEMA", sentence: "They went to the _____ to see their favourite film." },
    { scrambled: "EONYJUR", target: "JOURNEY", sentence: "They were tired after the long _____." },
    { scrambled: "NIALMAS", target: "ANIMALS", sentence: "The _____ were very tame." },
    { scrambled: "LABIZRZD", target: "BLIZZARD", sentence: "Many cars were stranded in the _____." },
    { scrambled: "ORESENGHUE", target: "GREENHOUSE", sentence: "The tomato plants grew in the _____." },
    { scrambled: "ICTAITIEVS", target: "ACTIVITIES", sentence: "On which school days Kim does not have any _____." },
    { scrambled: "LEBNLAT", target: "NETBALL", sentence: "The girl's _____ team cheered when they won the match." },
    { scrambled: "LSEPAE", target: "PLEASE", sentence: "_____ hurry or we are going to be late for the show." },
    { scrambled: "NRESGSAPES", target: "PASSENGERS", sentence: "The pilot asked the _____ to stay in their seats." },
    { scrambled: "NGIMISMW", target: "SWIMMING", sentence: "Ronem has his _____ lesson on every Tuesday." },
    { scrambled: "RIYRABL", target: "LIBRARY", sentence: "Our local _____ has good collection of reference books." },
    { scrambled: "WISMRREM", target: "SWIMMERS", sentence: "The _____ dived into the pool." },
    { scrambled: "KDCITE", target: "TICKED", sentence: "The clock _____ on the shelf." },
    { scrambled: "EUOSDTI", target: "OUTSIDE", sentence: "There is cold wind blowing _____." },
    { scrambled: "AEPADR", target: "PARADE", sentence: "The police closed off the street for the _____." },
    { scrambled: "RCMPEOUT", target: "COMPUTER", sentence: "Mike needed to use _____ for his homework." },
    { scrambled: "LIPCAAT", target: "CAPITAL", sentence: "Proper nouns should always start with a _____ letter." },
    { scrambled: "MOBHRAOT", target: "BATHROOM", sentence: "Why have you left your clothes in the _____." },
    { scrambled: "DUSTEHEXA", target: "EXHAUSTED", sentence: "She was _____ after the race." },
    { scrambled: "GLETDIN", target: "TINGLED", sentence: "The cold _____ her fingers." },
    { scrambled: "REDCA", target: "RACED", sentence: "Eathan _____ round the track on his bike." },
    { scrambled: "TESKI", target: "KITES", sentence: "It was a windy day, perfect for flying _____." },
    { scrambled: "TISETND", target: "DENTIST", sentence: "They all had to go the _____ for a check-up." },
    { scrambled: "PLAYNET", target: "PENALTY", sentence: "The team scored after a _____ was given." },
    { scrambled: "TREEMLEYX", target: "EXTREMELY", sentence: "Both wild animals were _____ fierce." },
    { scrambled: "CGREOYR", target: "GROCERY", sentence: "My corner _____ shop is open until late in night." },
    { scrambled: "EIFKN", target: "KNIFE", sentence: "Be careful otherwise you can get cut by _____." },
    { scrambled: "NOITUNMA", target: "MOUNTAIN", sentence: "From the _____ they could see for miles." },
    { scrambled: "SCCHATRED", target: "SCRATCHED", sentence: "The kittens _____ the new furniture." },
    { scrambled: "EVICETTED", target: "DETECTIVE", sentence: "The crime scene was inspected by the _____." },
    { scrambled: "ECCAPKOS", target: "PEACOCKS", sentence: "The proud _____ strutted about the lawns." },
    { scrambled: "HOAMNART", target: "MARATHON", sentence: "They cheered the runners as they watched the _____." },
    { scrambled: "OURHAT", target: "AUTHOR", sentence: "The _____ became very popular after this new book." },
    { scrambled: "ETALPICAHABL", target: "ALPHABETICAL", sentence: "The books were arranged in _____ order." },
    { scrambled: "STROFE", target: "FOREST", sentence: "It was dark and quite in the middle of the _____." },
    { scrambled: "CHOIRST", target: "OSTRICH", sentence: "The _____ is a very fast bird." },
    { scrambled: "TARTSURENA", target: "RESTAURANT", sentence: "They had a special meal in the new _____." },
    { scrambled: "BEADROWR", target: "WARDROBE", sentence: "She looked in her _____ to find the red dress." },
    { scrambled: "PEELOVEN", target: "ENVELOPE", sentence: "Folding and putting each leaflet in an _____ took a long time." },
    { scrambled: "INEPTMOOTIC", target: "COMPETITION", sentence: "They decided to enter the _____." },
    { scrambled: "AKWELD", target: "WALKED", sentence: "The two children _____ down the lane." },
    { scrambled: "CYASR", target: "SCARY", sentence: "The programme was too _____ for young children." },
    { scrambled: "EJNRIDU", target: "INJURED", sentence: "Luckily, she wasn't _____ in the accident." },
    { scrambled: "ETSRE", target: "TREES", sentence: "Olives grow on _____." },
    { scrambled: "UDEIG", target: "GUIDE", sentence: "_____ means to escort someone." }
    ];

    let sessionPool = [], skipPool = [], currentIndex = 0;
    let totalCoins = 0, currentInput = [], isTransitioning = false, level = 1, attempted = 0;
    let timeLeft = 60, timerInterval, isRematchRound = false;

    function startQuest() {
        sessionPool = [...ALL_QUESTIONS].sort(() => Math.random() - 0.5);
        document.getElementById('intro-overlay').style.display = 'none';
        document.getElementById('game-stage').style.display = 'flex';
        loadQuest();
    }

    function loadQuest() {
        if (currentIndex >= sessionPool.length) {
            if (skipPool.length > 0) {
                isRematchRound = true; sessionPool = [...skipPool]; skipPool = []; currentIndex = 0;
                document.getElementById('skip-button').style.display = 'none';
                document.getElementById('overlay-msg').innerHTML = `<h2 style="color:var(--gold)">REMATCH!</h2><p>Finish the ones you skipped.</p>`;
                document.getElementById('overlay').style.display = 'flex';
                return;
            } else { showFinal(); return; }
        }
        isTransitioning = false; currentInput = [];
        const q = sessionPool[currentIndex];
        timeLeft = 60;
        const display = document.getElementById('timer-display'); display.innerText = "60s"; display.classList.remove('warning');
        clearInterval(timerInterval); timerInterval = setInterval(updateTimer, 1000);
        document.getElementById('sentence-container').innerHTML = q.sentence.replace("_____", `<span class="highlight-word">${q.scrambled}</span>`);
        const slots = document.getElementById('word-slots'), pool = document.getElementById('letter-pool');
        slots.innerHTML = ""; pool.innerHTML = "";
        q.target.split('').forEach((_, i) => { const s = document.createElement('div'); s.className = 'slot'; s.onclick = () => removeLetter(i); slots.appendChild(s); });
        q.scrambled.split('').forEach((char, i) => { const t = document.createElement('div'); t.className = 'letter-tile'; t.innerText = char; t.onclick = () => addLetter(char, i); pool.appendChild(t); });
    }

    function updateTimer() {
        if (isTransitioning) return;
        timeLeft--;
        const display = document.getElementById('timer-display'); display.innerText = timeLeft + "s";
        if (timeLeft <= 15) display.classList.add('warning'); else display.classList.remove('warning');
        if (timeLeft <= 0) { clearInterval(timerInterval); timeOut(); }
    }

    function timeOut() {
        isTransitioning = true; playSound('wrong');
        document.getElementById('overlay-msg').innerHTML = `<h2 style="color:var(--error-red)">TIME'S UP!</h2><p>Correct: <b style="color:var(--neon-blue)">${sessionPool[currentIndex].target}</b></p>`;
        document.getElementById('overlay').style.display = 'flex';
    }

    function skipWord() { if (isTransitioning || isRematchRound) return; playSound('click'); skipPool.push(sessionPool[currentIndex]); currentIndex++; loadQuest(); }

    function addLetter(char, idx) {
        if (isTransitioning || currentInput.length >= sessionPool[currentIndex].target.length) return;
        playSound('click'); currentInput.push({char, idx});
        const slots = document.querySelectorAll('.slot');
        slots[currentInput.length-1].innerText = char; slots[currentInput.length-1].classList.add('filled');
        document.querySelectorAll('.letter-tile')[idx].classList.add('used');
        if (currentInput.length === sessionPool[currentIndex].target.length) check();
    }

    function removeLetter(idx) {
        if (isTransitioning || idx >= currentInput.length) return;
        playSound('click'); const removed = currentInput.splice(idx);
        const slots = document.querySelectorAll('.slot'), tiles = document.querySelectorAll('.letter-tile');
        removed.forEach((item, i) => { slots[idx+i].innerText = ""; slots[idx+i].classList.remove('filled'); tiles[item.idx].classList.remove('used'); });
    }

    function check() {
        isTransitioning = true; clearInterval(timerInterval);
        const target = sessionPool[currentIndex].target, entered = currentInput.map(i => i.char).join('');
        if (entered === target) {
            playSound('correct'); createConfetti(); attempted++; totalCoins += isRematchRound ? 20 : 50; updateStats();
            if (!isRematchRound && attempted > 0 && attempted % 15 === 0 && level < 5) showLevelUp(); else setTimeout(() => { currentIndex++; loadQuest(); }, 800);
        } else {
            playSound('wrong'); document.querySelectorAll('.slot').forEach(s => s.classList.add('shake'));
            setTimeout(() => { document.getElementById('overlay-msg').innerHTML = `<h2>NOT QUITE!</h2><p>Correct: <b style="color:var(--neon-blue)">${target}</b></p>`; document.getElementById('overlay').style.display = 'flex'; }, 600);
        }
    }

    function showLevelUp() { level++; playSound('levelup'); document.getElementById('level-up-subtext').innerText = `Level ${level} Unlocked!`; document.getElementById('level-up-overlay').style.display = 'flex'; }
    function hideLevelUp() { playSound('click'); document.getElementById('level-up-overlay').style.display = 'none'; document.getElementById('level-tag').innerText = `LEVEL ${level}`; currentIndex++; loadQuest(); }
    function updateStats() { document.getElementById('coins').innerText = totalCoins; document.getElementById('done-count').innerText = Math.min(attempted, 75); }
    function nextQuestion() { playSound('click'); document.getElementById('overlay').style.display='none'; currentIndex++; updateStats(); loadQuest(); }

    function showFinal() {
        playSound('levelup'); createConfetti();
        document.body.innerHTML = `
        <div style="display:flex; flex-direction:column; align-items:center; justify-content:center; min-height:100vh; background:var(--bg-dark); padding:20px;">
            <div style="background: white; color: #1a0b2e; padding: 40px; border-radius: 30px; border: 15px solid var(--neon-blue); max-width: 700px; width: 90%; text-align: center;">
                <h1 style="color:var(--neon-pink)">QUEST COMPLETE!</h1>
                <h2>Congratulations!</h2>
                <div style="font-size:2rem; margin:20px 0;">ðŸ’° Total Score: ${totalCoins}</div>
                <div style="background:var(--neon-blue); color:var(--bg-dark); padding:15px; border-radius:10px; font-weight:bold;">MISSION ACCOMPLISHED!</div>
            </div>
            <button onclick="location.reload()" class="hero-ready-btn" style="margin-top:30px;">RESTART</button>
        </div>`;
    }

    const bg = document.getElementById('bg-canvas'), bctx = bg.getContext('2d');
    function resize() { bg.width = window.innerWidth; bg.height = window.innerHeight; }
    window.onresize = resize; resize();
    let stars = [];
    for(let i=0; i<100; i++) stars.push({x: Math.random()*2000, y: Math.random()*2000, s: Math.random()*2});
    function animate() { bctx.fillStyle = '#0a0118'; bctx.fillRect(0,0,bg.width,bg.height); bctx.fillStyle = 'white'; stars.forEach(s => { bctx.beginPath(); bctx.arc(s.x % bg.width, s.y % bg.height, s.s, 0, Math.PI*2); bctx.fill(); s.y += 0.3; }); requestAnimationFrame(animate); }
    animate();
</script>
</body>
</html>
